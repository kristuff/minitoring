var Minitoring=Minitoring||{};Minitoring.App={init:function(){Minitoring.View.init(),Minitoring.LoadAverage.init(),Minitoring.Swap.init(),Minitoring.Memory.init(),Minitoring.Disks.init(),Minitoring.SystemUsers.init(),Minitoring.Logs.init(),Minitoring.Iptables.init(),Minitoring.Packages.init(),Minitoring.App.getApiKey(function(){Minitoring.Settings.loadUserSettings(),Minitoring.View.updateActiveView(Minitoring.View.getCurrentView()),Minitoring.App.getFeedback()}),Minitoring.UI.initTableSearch()},setNotif:function(t,e){Minitoring.App.toast=Minitoring.App.toast||new Minikit.Toasts,Minitoring.App.toast.show(t,e)},getApiKey:function(e){Minitoring.Api.apiRequest("GET","api/app/auth",null,function(t){Minitoring.Api.key=t.data.key,Minikit.isFn(e,!0)})},getFeedback:function(){Minitoring.Api.apiRequest("GET","api/app/feedback",null,function(t){var e=0<t.data.feedbackNegatives.length?"error":"success",a="";t.data.feedbackNegatives&&0<t.data.feedbackNegatives.length&&(a+=t.data.feedbackNegatives.map(function(t){return t}).join("<br>")),t.data.feedbackPositives&&0<t.data.feedbackPositives.length&&(a+=t.data.feedbackPositives.map(function(t){return t}).join("<br>")),Minikit.isObj(a)&&Minitoring.App.setNotif(e,a)})}},Minikit.ready(function(){(window.Minitoring=Minitoring).App.init()}),Minitoring.Api={_socketConnection:null,key:null,notifyApiResponse:function(t){var e=t.message;t.errors&&0<t.errors.length&&(e+=t.errors.map(function(t){return t.message}).join("<br>")),Minikit.isObj(e)&&Minitoring.App.setNotif(400<=t.code?"error":"success",e)},apiRequest:function(t,e,a,n,i){function r(t,e){401==e.code?window.location.href=window.location.origin:Minikit.isFn(t)?t(e):Minitoring.Api.notifyApiResponse(e)}var o="requestDate="+(new Date).getTime()+"&token="+document.querySelector("body[data-api-token]").getAttribute("data-api-token"),a=Minikit.isObj(a)?a+"&"+o:o;Minikit.ajax({url:window.location.origin+"/"+e+("POST"!=t?"?"+a:""),method:t,data:"POST"===t?a:null,callback:function(t){t=JSON.parse(t.responseText);Minikit.isFn(n)&&(t.success?n(t):r(i,t))},errCallback:function(t){t=JSON.parse(t.responseText);r(i,t)}})},ajaxPostFile:function(e){var t=new XMLHttpRequest;t.open("POST",window.location.origin+"/"+e.url,!0),t.addEventListener("error",function(t){Minikit.isFn(e.errorCallback)&&e.errorCallback(t)},!1),t.upload.onprogress=function(t){Minikit.isFn(e.onprogress)&&t.lengthComputable&&e.onprogress(t)},t.upload.addEventListener("load",function(t){Minikit.isFn(e.onload)&&e.onload(t)},!1),t.upload.addEventListener("loadstart",function(t){Minikit.isFn(e.onloadstart)&&e.onloadstart(t)},!1),t.addEventListener("readystatechange",function(t){4===t.target.readyState&&101<t.target.status&&!0===Minikit.isFn(e.onsuccess)&&e.onsuccess(t)},!1),t.send(e.data)},get:function(t,e,a,n){Minitoring.Api.apiRequest("GET",t,e,a,n)},post:function(t,e,a,n){Minitoring.Api.apiRequest("POST",t,e,a,n)},put:function(t,e,a,n){Minitoring.Api.apiRequest("PUT",t,e,a,n)},delete:function(t,e,a,n){Minitoring.Api.apiRequest("DELETE",t,e,a,n)},socketApiRequest:function(e,a,n){var t,i=Minitoring.Api._socketConnection;Minikit.isObj(i)&&2!=i.readyState&&3!=i.readyState||(t=("https:"==window.location.protocol?"wss://":"ws://")+window.location.host,i=new WebSocket(t+"/wssapi"),Minitoring.Api._socketConnection=i),i.onmessage=function(t){!function(t,e,a){t=JSON.parse(t.data);t.success?Minikit.isFn(e)&&e(t):Minikit.isFn(a)?a(t):Minitoring.Api.notifyApiResponse(t)}(t,a,n)},0==i.readyState?i.onopen=function(t){i.send(JSON.stringify(e))}:i.send(JSON.stringify(e))}},Minitoring.Profile={editUserNameOrEmail:function(){var e=document.querySelector("#profile_user_name").value,a=document.querySelector("#profile_user_email").value;Minitoring.Api.post("api/profile/","user_email="+a+"&user_name="+e,function(t){Minitoring.App.setNotif(400<=t.code?"error":"success",t.message),t.code<400&&(document.querySelector("#current-user .user-name").innerHTML=e,document.querySelector("#current-user .user-email").innerHTML=a,document.querySelector("#profile-card-name").innerHTML=e,document.querySelector("#profile-card-email").innerHTML=a)})},editPassword:function(){var t="user_password_current="+document.querySelector("#input_change_password_current").value+"&user_password_new="+document.querySelector("#input_change_password_new").value+"&user_password_repeat="+document.querySelector("#input_change_password_repeat").value;Minitoring.Api.post("api/profile/password",t,function(t){Minitoring.App.setNotif(400<=t.code?"error":"success",t.message),document.querySelector("#input_change_password_current").value="",document.querySelector("#input_change_password_new").value="",document.querySelector("#input_change_password_repeat").value=""})},editAvatar:function(){var t=new FormData,a=document.getElementById("avatar-upload-progress"),n=document.getElementById("avatar-upload-progressbar"),e=document.getElementById("avatar-file-upload").getAttribute("data-text"),i=document.querySelector("#avatar-file-upload .label-file");t.append("token",document.querySelector("body[data-api-token]").getAttribute("data-api-token")),t.append("USER_AVATAR_file",document.getElementById("USER_AVATAR_file").files[0]),Minitoring.Api.ajaxPostFile({url:"api/profile/avatar",data:t,onsuccess:function(t){t=JSON.parse(t.target.responseText);document.getElementById("avatar-preview").src=t.data.userAvatarUrl,document.querySelector("#current-user .avatar").src=t.data.userAvatarUrl,document.querySelector("#profile-card-avatar").src=t.data.userAvatarUrl,n.classList.remove("active"),Minitoring.Api.notifyApiResponse(t),Minitoring.Profile.updateDeleteAvatarButtonState(t.data.userHasAvatar),document.getElementById("USER_AVATAR_file").value="",a.innerHTML="",i.innerHTML=e},onprogress:function(t){var e=t.loaded/t.total*100;a.innerHTML="Progress: "+Math.round(e)+"%",n.classList.add("active"),n.value=t.loaded,n.max=t.total},onload:function(t){a.innerHTML="File uploaded, waiting for server response..."},onerror:function(t){t=JSON.parse(t.target.responseText);Minitoring.Api.notifyApiResponse(t),Minitoring.Profile.updateDeleteAvatarButtonState(t.data.userHasAvatar),n.classList.remove("active"),a.innerHTML="",document.getElementById("USER_AVATAR_file").value="",i.innerHTML=e}})},deleteAvatar:function(){Minitoring.Api.post("api/profile/avatar/delete",null,function(t){document.getElementById("avatar-preview").src=t.data.userAvatarUrl,document.querySelector("#current-user .avatar").src=t.data.userAvatarUrl,document.querySelector("#profile-card-avatar").src=t.data.userAvatarUrl,Minitoring.Profile.updateDeleteAvatarButtonState(t.data.userHasAvatar),Minitoring.Api.notifyApiResponse(t)},function(t){Minitoring.Api.notifyApiResponse(t),Minitoring.Profile.updateDeleteAvatarButtonState(t.data.userHasAvatar)})},updateDeleteAvatarButtonState:function(t){var e=document.getElementById("delete-avatar-button");t?e.classList.add("active"):e.classList.remove("active")},avatarPreviewChanged:function(){var t=document.getElementById("USER_AVATAR_file");Minikit.isObj(t)&&Minikit.isObj(t.files[0])&&(document.getElementById("avatar-preview").src=URL.createObjectURL(t.files[0]),document.querySelector("#avatar-file-upload .label-file").innerHTML=t.files[0].name)}},Minitoring.Settings={loadUserSettings:function(){Minitoring.Api.get("api/users/self/settings",null,function(t){Minitoring.Settings.setTheme(t.data.UI_THEME||"dark"),Minitoring.Settings.setThemeColor(t.data.UI_THEME_COLOR||"green")})},setTheme:function(t){document.body.setAttribute("data-theme",t)},setThemeColor:function(t){document.body.setAttribute("data-color",t)},themeChanged:function(){var t=document.getElementById("select-theme").value;Minitoring.Settings.updateSettingValue("UI_THEME",t,function(){Minitoring.Settings.setTheme(t)})},languageChanged:function(){var t=document.getElementById("select-language").value,e=document.querySelector("body").getAttribute("data-language");t&&t!=e&&Minitoring.Settings.updateSettingValue("UI_LANG",t,function(){window.location.reload()})},themeColorChanged:function(){var t=document.getElementById("select-theme-color").value;Minitoring.Settings.updateSettingValue("UI_THEME_COLOR",t,function(){Minitoring.Settings.setThemeColor(t)})},updateSettingValue:function(t,e,a){Minitoring.Api.put("api/users/self/settings","parameter="+t+"&value="+e,a)},resetCurrent:function(){Minikit.dialog({message:document.querySelector("#reset-settings-button").getAttribute("data-dialog-text"),cancelable:!0,type:"warning",okButtonText:document.querySelector(".dialog-button-ok").innerHTML,cancelButtonText:document.querySelector(".dialog-button-cancel").innerHTML,callback:function(){Minitoring.Api.delete("api/users/self/settings","",function(t){Minitoring.Api.notifyApiResponse(t),Minitoring.Settings.loadUserSettings()})}})}},Minitoring.UI={createGauge:function(t){return Gauge(document.querySelector(t),{max:100,dialStartAngle:180,dialEndAngle:0,value:0,label:function(t){return(Math.round(10*t)/10).toString()+"%"}})},getPaginatorHtml:function(t,e,a){var n="",i=Math.ceil(a/t),r=0<e?Math.ceil(e/t)+1:1;n+='<a href="#" class="previous" '+(0<e?' data-offset="'+(e-t)+'"':" data-disabled")+'><i class="fa fa-chevron-left"></i></a>';for(var o=1;o<=i;o++)n+='<a href="#" class="item '+(o===r?"current":"")+'" data-offset="'+(o-1)*t+'">'+o+"</a>";return n+='<a href="#" class="next" '+(r<i?' data-offset="'+(e+t)+'"':" data-disabled")+'><i class="fa fa-chevron-right"></i></a>'},getLoader:function(){return'<div class="loader"><i class="fa fa-2x fa-spinner fa-pulse color-theme"></i></div>'},getTableLoader:function(t){return'<tr class="table-loader no-style"><td class="align-center color-light" colspan="'+t+'"><i class="fa fa-2x fa-circle-o-notch fa-spin fa-fw color-theme"></i></td></tr>'},getFormattedDate:function(t){return Minikit.isObj(t)?Minikit.Format.date(t,"{DD}/{MM}/{YYYY} {hh}:{mm}",!0):""},initTableSearch:function(){Array.prototype.forEach.call(document.querySelectorAll("input.search[data-table-target]"),function(t){tableFilter.init(t)})}};var tableFilter=function(e){var n;function a(t){n=t.target;t=document.querySelector("table#"+t.target.getAttribute("data-table-target")+" tbody");e.forEach.call(t.rows,i)}function i(t){var e=t.textContent.toLowerCase(),a=n.value.toLowerCase();if(""==n.value)return t.classList.remove("filter-show"),void t.classList.remove("filter-hide");t.classList.contains("group-row")?t.classList.add("filter-hide"):-1===e.indexOf(a)?(t.classList.remove("filter-show"),t.classList.add("filter-hide")):(t.classList.add("filter-show"),t.classList.remove("filter-hide"))}return{init:function(t){t&&(t.oninput=a)}}}(Array.prototype);Minitoring.Utils={ipAction:{},getIpLink:function(t,e){switch(e){case"abuseipdb":case"abuseipdb.com":return'<a href="https://www.abuseipdb.com/check/'+t+'" target="linkout" class="color-theme">'+t+"</a>";case"geoip":case"geodatatool":case"geodatatool.com":return'<a href="https://www.geodatatool.com/en/?IP='+t+'" target="linkout" class="color-theme">'+t+"</a>";default:return"<span>"+t+"</span>"}}},Minitoring.View={htmlContainer:{},htmlOverlay:{},htmlHeaderTitle:{},htmlHeaderSubTitle:{},sideMenu:{},navigate:function(t){t=Minitoring.View.getUrlTarget(t);Minitoring.View.updateActiveView(t),sideMenu.classList.remove("open")},getUrlTarget:function(t){t=new URL(t).pathname;return t=(t=t.endsWith("/")?t.substr(0,t.length-1):t).startsWith("/")?t.substr(1,t.length-1):t},handleLinkClick:function(t){var e=t.target.closest("a[data-view]");Minikit.isObj(e)&&Minikit.Event.isLeftButton(t)&&(t.preventDefault(),e=e.getAttribute("href"),Minitoring.View.navigate(e),Minikit.Browser.changeURL(e))},getViewPanel:function(t,e){t=document.querySelector('.view[data-view="'+t+'"]');return Minikit.isObj(t)?t:(t=document.querySelector('.view[data-view="'+e+'"]'),Minikit.isObj(t)?t:null)},updateActiveView:function(e){var a=e.split("/")[0],t=Minitoring.View.getViewPanel(e,a);Minikit.isObj(t)&&(Array.prototype.forEach.call(document.querySelectorAll(".view[data-view]"),function(t){t.classList.remove("active")}),t.classList.add("active"),htmlContainer.setAttribute("data-current-view",e),Array.prototype.forEach.call(document.querySelectorAll(".menu-item a[data-view]"),function(t){t.getAttribute("data-view")===a?t.classList.add("active"):t.classList.remove("active")}),Array.prototype.forEach.call(t.querySelectorAll(".tab-item a[data-view]"),function(t){t.getAttribute("data-view")===e?t.closest(".tab-item").classList.add("current"):t.closest(".tab-item").classList.remove("current")}),refreshAction=t.getAttribute("data-refresh"),refreshAction&&Minikit.executeFunctionByName(refreshAction),Minitoring.View.updateTitle(t))},updateTitle:function(t){htmlHeaderTitle.innerHTML=t.getAttribute("data-title")},getCurrentView:function(){return htmlContainer.getAttribute("data-current-view")},goBack:function(){Minikit.Browser.goBack()},init:function(){htmlContainer=document.querySelector("#main-container"),htmlOverlay=document.querySelector("main-container > .overlay"),htmlHeaderTitle=document.querySelector("#header-title"),sideMenu=document.querySelector("#side-menu"),document.addEventListener("click",Minitoring.View.handleLinkClick),window.onpopstate=function(){Minitoring.View.navigate(location.href)}}},Minitoring.Cron={getList:function(){document.querySelector("table#users-cron-list tbody").innerHTML=Minitoring.UI.getTableLoader(4),document.querySelector("table#system-cron-list tbody").innerHTML=Minitoring.UI.getTableLoader(5),document.querySelector("table#system-timer-list tbody").innerHTML=Minitoring.UI.getTableLoader(6),Minitoring.Api.socketApiRequest({command:"crons",key:Minitoring.Api.key},function(t){for(var e="",a="",n="",i=0;i<t.data.users.length;i++)e+="<tr>",e+='<td data-column="User">'+t.data.users[i].user+"</td>",e+='<td data-column="Time Expression">'+t.data.users[i].timeExpression+"</td>",e+='<td data-column="Command">'+t.data.users[i].command+"</td>",e+='<td data-column="Next Run Date"><span class="badge" data-badge="info">'+t.data.users[i].nextRunDate+"</span></td>",e+="</tr>";document.querySelector("table#users-cron-list tbody").innerHTML=e;for(i=0;i<t.data.system.length;i++)for(var r=0;r<t.data.system[i].scripts.length;r++)a+="<tr>",a+='<td data-column="Time Expression">'+t.data.system[i].timeExpression+"</td>",a+='<td data-column="Script">'+t.data.system[i].scripts[r].path+"</td>",a+='<td data-column="Type">'+t.data.system[i].scripts[r].type+"</td>",a+='<td data-column="Command">'+t.data.system[i].command+"</td>",a+='<td data-column="Next Run Date"><span class="badge" data-badge="info">'+t.data.system[i].nextRunDate+"</span></td>",a+="</tr>";for(i=0;i<t.data.crond.length;i++)a+="<tr>",a+='<td data-column="Time Expression">'+t.data.crond[i].timeExpression+"</td>",a+='<td data-column="Script">'+t.data.crond[i].path+"</td>",a+='<td data-column="Type">Command</td>',a+='<td data-column="Command">'+t.data.crond[i].command+"</td>",a+='<td data-column="Next Run Date"><span class="badge" data-badge="info">'+t.data.crond[i].nextRunDate+"</span></td>",a+="</tr>";document.querySelector("table#system-cron-list tbody").innerHTML=a;for(i=0;i<t.data.timers.length;i++)n+="<tr>",n+='<td data-column="Unit">'+t.data.timers[i].unit+"</td>",n+='<td data-column="Activates">'+t.data.timers[i].activates+"</td>",n+='<td data-column="Passed">'+t.data.timers[i].passed+"</td>",n+='<td data-column="Last">'+t.data.timers[i].last+"</td>",n+='<td data-column="Left">'+t.data.timers[i].left+"</td>",n+='<td data-column="Next"><span class="badge" data-badge="info">'+t.data.timers[i].next+"</span></td>",n+="</tr>";document.querySelector("table#system-timer-list tbody").innerHTML=n})}},Minitoring.Dashboard={refresh:function(){Minitoring.SystemInfos.get(),Minitoring.LoadAverage.get(),Minitoring.Cpu.get(),Minitoring.Swap.get(),Minitoring.Memory.get(),Minitoring.Process.get(),Minitoring.Services.refresh(),Minitoring.Disks.refresh(),Minitoring.Network.get(),Minitoring.SystemUsers.getNumberActive(),Minitoring.Packages.refreshAll(),Minitoring.Ping.refresh()}},Minitoring.Disks={gauge:{},gaugeInodes:{},init:function(){Minitoring.Disks.gauge=Minitoring.UI.createGauge("#disks-gauge"),Minitoring.Disks.gaugeInodes=Minitoring.UI.createGauge("#inodes-gauge")},refresh:function(){Minitoring.Disks.getInodesUsage(),Minitoring.Disks.getDisksUsage()},getDisksUsage:function(){document.querySelector("#disks-table tbody").innerHTML=Minitoring.UI.getTableLoader(7),Minitoring.Api.get("api/system/disks",null,function(t){switch(Minitoring.View.getCurrentView()){case"overview":for(var e=0,a=0,n=0;n<t.data.disks.length;n++)switch(t.data.disks[n].alertCode){case 1:e++;break;case 2:a++}Minitoring.Disks.gauge.setValueAnimated(t.data.totalPercentUsed,1),document.querySelector("#disks-gauge").setAttribute("data-alert-code",t.data.alertCode),document.querySelector("#disks-gauge").setAttribute("data-bottom",t.data.totalUsed+"/"+t.data.total+" used");var i=0<a?'<span id="badge-disks-error" class="badge" data-badge="error" data-alert-code="2">'+a+"</span>":"";i+=0<e?'<span id="badge-disks-warning" class="badge" data-badge="warning" data-alert-code="1">'+e+"</span>":"",document.querySelector("#disks-alerts").innerHTML=i;break;case"disks":for(var r="",n=0;n<t.data.disks.length;n++)r+=Minitoring.Disks.getHtml(t.data.disks[n]);r+='<tr class="row-total" data-alert-code="'+t.data.alertCode+'">',r+='<td colspan="3">Total:</td>',r+='<td data-column="% used" class="align-right"><div class="progress-bar" data-alert-code="'+t.data.alertCode+'" data-value="'+t.data.totalPercentUsed+'"><div class="progress-bar-placeholder">'+t.data.totalPercentUsed+'%</div><div class="progress-bar-inner"></div></div></td>',r+='<td data-column="Used" class="align-right">'+t.data.totalUsed+"</td>",r+='<td data-column="Free" class="align-right">'+t.data.totalFree+"</td>",r+='<td data-column="Total" class="align-right">'+t.data.total+"</td>",r+="</tr>",document.querySelector("#disks-table tbody").innerHTML=r,Minikit.each(document.querySelectorAll("#disks-table tbody .progress-bar"),function(t){var e=t.getAttribute("data-value");t.querySelector(".progress-bar-inner").style.width=e+"%"})}})},getInodesUsage:function(){document.querySelector("#inodes-table tbody").innerHTML=Minitoring.UI.getTableLoader(7),Minitoring.Api.get("api/system/inodes",null,function(t){switch(Minitoring.View.getCurrentView()){case"overview":for(var e=0,a=0,n=0;n<t.data.inodes.length;n++)switch(t.data.inodes[n].alertCode){case 1:e++;break;case 2:a++}Minitoring.Disks.gaugeInodes.setValueAnimated(t.data.totalPercentUsed,1),document.querySelector("#inodes-gauge").setAttribute("data-alert-code",t.data.alertCode),document.querySelector("#inodes-gauge").setAttribute("data-bottom",t.data.totalUsed+"/"+t.data.total+" used");var i=0<a?'<span id="badge-disks-error" class="badge" data-badge="error" data-alert-code="2">'+a+"</span>":"";i+=0<e?'<span id="badge-disks-warning" class="badge" data-badge="warning" data-alert-code="1">'+e+"</span>":"",document.querySelector("#inodes-alerts").innerHTML=i;break;case"disks":for(var r="",n=0;n<t.data.inodes.length;n++)r+=Minitoring.Disks.getHtml(t.data.inodes[n]);r+='<tr class="row-total" data-alert-code="'+t.data.alertCode+'">',r+='<td colspan="3">Total:</td>',r+='<td data-column="% used" class="align-right"><div class="progress-bar" data-alert-code="'+t.data.alertCode+'" data-value="'+t.data.totalPercentUsed+'"><div class="progress-bar-placeholder">'+t.data.totalPercentUsed+'%</div><div class="progress-bar-inner"></div></div></td>',r+='<td data-column="Used" class="align-right">'+t.data.totalUsed+"</td>",r+='<td data-column="Free" class="align-right">'+t.data.totalFree+"</td>",r+='<td data-column="Total" class="align-right">'+t.data.total+"</td>",r+="</tr>",document.querySelector("#inodes-table tbody").innerHTML=r,Minikit.each(document.querySelectorAll("#inodes-table tbody .progress-bar"),function(t){var e=t.getAttribute("data-value");t.querySelector(".progress-bar-inner").style.width=e+"%"})}})},getHtml:function(t){var e="";return e+='<tr data-alert-code="'+t.alertCode+'">',e+='<td data-column="Filesystem">'+t.filesystem+"</td>",e+='<td data-column="Type">'+t.type+"</td>",e+='<td data-column="Mount">'+t.mount+"</td>",e+='<td data-column="% used" class="align-right"><div class="progress-bar" data-alert-code="'+t.alertCode+'" data-value="'+t.percentUsed+'"><div class="progress-bar-placeholder">'+t.percentUsed+'%</div><div class="progress-bar-inner"></div></div></td>',e+='<td data-column="Used"  class="align-right">'+t.used+"</td>",e+='<td data-column="Free"  class="align-right">'+t.free+"</td>",e+='<td data-column="Total" class="align-right">'+t.total+"</td>",e+="</tr>"}},Minitoring.Fail2ban={refresh:function(){document.querySelector("table#fail2ban-jails tbody").innerHTML=Minitoring.UI.getTableLoader(4),Minitoring.Api.socketApiRequest({command:"fail2ban_status",key:Minitoring.Api.key},function(t){for(var e="",a="error",n="STOPPED",i=0;i<t.data.jails.length;i++)e+=Minitoring.Fail2ban.getHtml(t.data.jails[i]);"active"===t.data.status&&(a="success",n="ACTIVE"),document.querySelector("table#fail2ban-jails tbody").innerHTML=e,document.querySelector('#fail2ban-server-version [data-column="Value"]').innerHTML=t.data.version,document.querySelector('#fail2ban-server-dbpath [data-column="Value"]').innerHTML=t.data.databasePath,document.querySelector('#fail2ban-server-dbsize [data-column="Value"]').innerHTML=t.data.databaseSize,document.querySelector('#fail2ban-server-status [data-column="Value"]').innerHTML='<span class="badge" data-badge="'+a+'">'+n+"</span>",document.querySelector("#fail2ban-jails-comment").innerHTML="* Older ban was recorded "+t.data.olderBanAge},function(t){Minitoring.Api.notifyApiResponse(t)})},getHtml:function(t){var e="",a="error",n="DISABLED";return 1===t.enabled&&(a="success",n="ENABLED"),e+='<tr data-jail="'+t.name+'" ><td data-column="Name">'+t.name+"</td>",e+='<td data-column="Status" class="align-center"><span class="badge" data-badge="'+a+'">'+n+"</span></td>",e+='<td data-column="Logs files" class="align-right">'+t.logs+"</td>",e+='<td data-column="Total bans" class="align-right">'+t.bans+"</td>",e+="</tr>"}},Minitoring.Iptables={init:function(){Minikit.Event.add(document.querySelector("table#iptables-data "),"click",function(t){Minitoring.Iptables.tableClicked(t)}),Minikit.Event.add(document.querySelector("table#ip6tables-data "),"click",function(t){Minitoring.Iptables.tableClicked(t)})},refreshIptables:function(){document.querySelector("table#iptables-data tbody").innerHTML=Minitoring.UI.getTableLoader(7),Minitoring.Iptables.getIptablesData("iptables","table#iptables-data")},refreshIp6tables:function(){document.querySelector("table#ip6tables-data tbody").innerHTML=Minitoring.UI.getTableLoader(7),Minitoring.Iptables.getIptablesData("ip6tables","table#ip6tables-data")},getIptablesData:function(t,s){Minitoring.Api.socketApiRequest({command:t,key:Minitoring.Api.key},function(t){function e(t){return"0.0.0.0/0"==t||"::/0"==t?t:Minitoring.Utils.getIpLink(t,document.querySelector("body").getAttribute("data-ip-action"))}for(var a,n,i="",r=0;r<t.data.chains.length;r++){n='<span class="margin-left-6 color-light">('+t.data.chains[r].rules.length+")</span>",i+='<tr class="group-row" data-rowid="'+(a=Minikit.newId())+'">',i+='<td class="align-left" colspan="6"><a class="toggle"><i class="fa fa-fw color-theme"></i>Chain: ',i+=t.data.chains[r].chain,i+=" (",i+=t.data.chains[r].policy,i+=")"+n+"</a></td>",i+="</tr>";for(var o=0;o<t.data.chains[r].rules.length;o++)i+='<tr data-parentid="'+a+'" class="hidden">',i+='<td data-column="Group"></td>',i+='<td data-column="Target">'+t.data.chains[r].rules[o].target+"</td>",i+='<td data-column="Protocol">'+t.data.chains[r].rules[o].protocol+"</td>",i+='<td data-column="Source">'+e(t.data.chains[r].rules[o].source)+"</td>",i+='<td data-column="Destination">'+e(t.data.chains[r].rules[o].destination)+"</td>",i+='<td data-column="Options">'+t.data.chains[r].rules[o].options+"</td>",i+="</tr>"}document.querySelector(s+" tbody").innerHTML=i},function(t){Minitoring.Api.notifyApiResponse(t)})},tableClicked:function(t){var e=t.target.closest("tr.group-row");Minikit.isObj(e)&&(t=!e.classList.contains("expanded"),id=e.getAttribute("data-rowid"),t?(e.classList.add("expanded"),Array.prototype.forEach.call(document.querySelectorAll('tr[data-parentid="'+id+'"]'),function(t){t.classList.remove("hidden")})):(e.classList.remove("expanded"),Array.prototype.forEach.call(document.querySelectorAll('tr[data-parentid="'+id+'"]'),function(t){t.classList.add("hidden")})))}},Minitoring.Logs={autoRefreshHandle:0,logList:{},$logFormats:{},init:function(){Minitoring.Logs.getLogFilesList()},refresh:function(){Minitoring.Logs.cleanAutoRefresh(),Minikit.isObj(document.querySelector("select#select-log").value)&&(Minitoring.Logs.getLogs(),Minitoring.Logs.setAutoRefresh())},setAutoRefresh:function(){Minitoring.Logs.cleanAutoRefresh();var t=parseInt(document.querySelector("select#select-log-refresh").value);0<t?Minitoring.Logs.autoRefreshHandle=setInterval(Minitoring.Logs.refresh,1e3*t):Minitoring.Logs.cleanAutoRefresh()},cleanAutoRefresh:function(){0<Minitoring.Logs.autoRefreshHandle&&(clearInterval(Minitoring.Logs.autoRefreshHandle),Minitoring.Logs.autoRefreshHandle=0)},getLogs:function(){var i,r,o,s,d,c,l,u,g=document.querySelector("table#system-logs-table tbody"),m=document.querySelector("table#system-logs-table thead"),p=document.querySelector("#system-logs-msg"),b="",f="";g.innerHTML=Minitoring.UI.getTableLoader(10),p.innerHTML="",Minitoring.Api.socketApiRequest({command:"logs",maxLines:document.querySelector("select#select-log-max").value,logId:document.querySelector("select#select-log").value,key:Minitoring.Api.key},function(t){b+="<tr>";for(var e=0;e<t.data.columns.length;e++)b+='<th data-column="'+t.data.columns[e].display+'">'+t.data.columns[e].display+"</th>";b+="</tr>",m.innerHTML=b;for(var a=0;a<t.data.logs.length;a++){f+="<tr>";for(var n=0;n<t.data.columns.length;n++){switch(r=t.data.logs[a],o=t.data.columns[n].name,s=t.data.columns[n].display,o){case"host":case"remoteIp":d=Minitoring.Utils.getIpLink(r[o],document.querySelector("body").getAttribute("data-ip-action"));break;case"sentBytes":u=parseInt(r[o],10),d=Minikit.Format.bytes(u);break;case"status":c=parseInt(r[o],10),l="success",300<=c&&(l="warning"),d='<span class="badge" data-badge="'+(l=400<=c?"error":l)+'">'+r[o]+"</span>";break;case"level":switch(c=r[o],l="success",c){case"CRITICAL":case"ERROR":case"critical":case"error":l="error";break;case"DEBUG":case"debug":case"INFO":case"info":l="info";break;default:l="warning"}d='<span class="badge" data-badge="'+l+'">'+r[o]+"</span>";break;case"time":d=Minikit.Format.date(r.stamp,"{YYYY}-{MM}-{DD} {hh}:{mm}:{ss}",!0);break;case"referer":d=Minikit.isObj(r[o])?r[o]:"";break;default:d=r[o]}f+='<td data-column="'+s+'">'+d+"</td>"}f+="</tr>"}g.innerHTML=f,i=t.data.logs.length+'<span class="color-light"> lines found in </span>'+t.data.duration+'ms<span class="color-light">',i+=", </span>"+t.data.linesError+'<span class="color-light"> error line(s)</span>',i+="<br>",i+='<span class="color-light">File </span>'+t.data.logPath+'<span class="color-light"> was last modified on </span>',i+=Minikit.Format.date(t.data.fileTime,"{YYYY}-{MM}-{DD} {hh}:{mm}:{ss}",!0),i+='<span class="color-light"> size is </span>'+t.data.fileSize,p.innerHTML=i},function(t){Minitoring.Api.notifyApiResponse(t)})},getLogFilesList:function(){Minitoring.Api.get("api/logs",null,function(t){Minitoring.Logs.logList=t.data;for(var e="",a=0;a<t.data.length;a++)e+='<option value="'+t.data[a].logId+'" data-type="'+t.data[a].logType+'">'+t.data[a].logName+"</option>";document.querySelector("select#select-log").innerHTML=e})},getlogInfoFromCache:function(t){for(var e,a=0;a<Minitoring.Logs.logList.length;a++)if(Minitoring.Logs.logList[a].logId==t){e=Object.assign({},Minitoring.Logs.logList[a]);break}return e}},Minitoring.Network={get:function(){var n=document.querySelector("#network-table tbody");Minitoring.Api.get("api/system/network",null,function(t){for(var e="",a=0;a<t.data.network.length;a++)e+=Minitoring.Network.getHtml(t.data.network[a]);n.innerHTML=e},function(t){Minitoring.Api.notifyApiResponse(t)})},getHtml:function(t){var e="<tr>";return e+='<td data-column="Interface">'+t.interface+"</td>",e+='<td data-column="IP">'+t.ip+"</td>",e+='<td data-column="Receive" class="align-right">'+t.receive+"</td>",e+='<td data-column="Transmit" class="align-right">'+t.transmit+"</td>",e+="</tr>"}},Minitoring.Packages={init:function(){Minikit.Event.add(document.querySelector("#packages-bottom-paginator"),"click",Minitoring.Packages.onPaginatorClick),Minikit.Event.add(document.querySelector("table#packages-table "),"click",function(t){Minitoring.Packages.tableClicked(t)})},onPaginatorClick:function(t){t.preventDefault();t=t.target.closest("[data-offset]");Minikit.isObj(t)},refreshAll:function(){Minitoring.Packages.getUpgrables(),Minitoring.Packages.getAll()},refresh:function(){switch(Minitoring.View.getCurrentView()){case"packages":case"packages/all":Minitoring.Packages.getAll();break;case"packages/upgradable":Minitoring.Packages.getUpgrables()}},groupbyChanged:function(){},tableClicked:function(t){var e=t.target.closest("tr.group-row");Minikit.isObj(e)&&(t=!e.classList.contains("expanded"),id=e.getAttribute("data-group-id"),t?(e.classList.add("expanded"),Array.prototype.forEach.call(document.querySelectorAll('#packages-table tr[data-group-parentid="'+id+'"]'),function(t){t.classList.remove("hidden")})):(e.classList.remove("expanded"),Array.prototype.forEach.call(document.querySelectorAll('#packages-table tr[data-group-parentid="'+id+'"]'),function(t){t.classList.add("hidden")})))},getAll:function(){document.querySelector("#packages-comment").innerHTML="",document.querySelector("#packages-comment").classList.remove("active"),document.querySelector("#packages-table thead").innerHTML="",document.querySelector("#packages-bottom-paginator").setAttribute("data-label",""),document.querySelector("#packages-table tbody").innerHTML=Minitoring.UI.getTableLoader(10),Minitoring.Api.get("api/packages",null,function(t){var e="",a='<span class="badge" data-badge="success">0</span>';currentGroup="",lastGroup="",lastGroupCount=0,groupRowsDetailHtml="";function n(t,e){return'<tr class="group-row" data-group-id="'+t+'"><td class="align-left" colspan="10"><a class="toggle"><i class="fa fa-fw color-theme"></i><span class="text-bold">'+t+'</span><span class="margin-left-6 color-light">('+e+")</span></td></tr>"}for(var i=0;i<t.data.packages.length;i++)currentGroup=t.data.packages[i].name.charAt(0).toUpperCase(),currentGroup!==lastGroup&&""!==lastGroup&&(e+=n(lastGroup,lastGroupCount),e+=groupRowsDetailHtml,lastGroup=currentGroup,lastGroupCount=0,groupRowsDetailHtml=""),lastGroup=currentGroup,lastGroupCount++,groupRowsDetailHtml+=Minitoring.Packages.getpackageHtml(t.data.packages[i],lastGroup),i===t.data.packages.length-1&&(e+=n(lastGroup,lastGroupCount),e+=groupRowsDetailHtml);0<t.data.number_error&&(a='<span class="badge" data-badge="error">'+t.data.number_error+"</span>"),document.querySelector("#dashboard_packages_total").innerHTML=t.data.number_total,document.querySelector("#dashboard_packages_error").innerHTML=a,document.querySelector("#dashboard_packages_installed").innerHTML='<span class="badge" data-badge="success">'+t.data.number_installed+"</span>",document.querySelector("#packages-table tbody").innerHTML=e,document.querySelector("#packages-table thead").innerHTML='<tr><th data-column="Group" class="group"></th><th data-column="Name">Name</th><th data-column="Version">Version</th><th data-column="Arch">Arch</th><th data-column="Description">Description</th><th data-column="Action">Action</th><th data-column="Status">Status</th><th data-column="Error">Error</th></tr>',document.querySelector("#packages-bottom-paginator").setAttribute("data-label",t.data.packages.length+" / "+t.data.packages.length+" item(s) displayed")})},getUpgrables:function(){document.querySelector("#packages-comment").innerHTML="",document.querySelector("#packages-comment").classList.remove("active"),document.querySelector("#packages-table thead").innerHTML="",document.querySelector("#packages-bottom-paginator").setAttribute("data-label",""),document.querySelector("#packages-table tbody").innerHTML=Minitoring.UI.getTableLoader(10),Minitoring.Api.get("api/packages/upgradable",null,function(t){var e="",a=t.data.number,n=document.querySelector("#packages-upgradable-menuitem"),i=a;0<a?(i='<span class="badge" data-badge="warning">'+a+"</span>",n.classList.add("badge"),n.classList.add("margin-left-6"),n.setAttribute("data-badge","warning"),n.innerHTML=a):(i='<span class="badge" data-badge="success">'+a+"</span>",document.querySelector("#packages-comment").innerHTML=t.data.message,document.querySelector("#packages-comment").classList.add("active"),n.classList.remove("badge"),n.classList.remove("margin-left-6"),n.innerHTML="");for(var r=0;r<t.data.packages.length;r++)e+=Minitoring.Packages.getUpgradableHtml(t.data.packages[r]);document.querySelector("#dashboard_packages_upgradable").innerHTML=i,document.querySelector("#packages-table tbody").innerHTML=e,document.querySelector("#packages-table thead").innerHTML='<tr><th data-column="Name">Name</th><th data-column="Suite">Suite</th><th data-column="Arch">Arch</th><th data-column="Current version">Current version</th><th data-column="New version">New version</th></tr>',document.querySelector("#packages-bottom-paginator").setAttribute("data-label",a+" / "+a+" item(s) displayed")})},getpackageHtml:function(t,e){var a='<tr data-group-parentid="'+e+'" class="hidden">',e="";return Minikit.isObj(t.error)&&(e='<span class="badge" data-badge="error">'+t.error+"</span>"),a+='<td data-column="Group" class="group"></td>',a+='<td data-column="Name">'+t.name+"</td>",a+='<td data-column="Version">'+t.version+"</td>",a+='<td data-column="Arch">'+t.arch+"</td>",a+='<td data-column="Description">'+t.description+"</td>",a+='<td data-column="Action">'+t.action+"</td>",a+='<td data-column="Status"><span class="badge" data-badge="'+t.status_code+'">'+t.status+"</span></td>",a+='<td data-column="Error">'+e+"</td>",a+="</tr>"},getUpgradableHtml:function(t){var e="<tr>";return e+='<td data-column="Name">'+t.name+"</td>",e+='<td data-column="Suite">'+t.suite+"</td>",e+='<td data-column="Arch">'+t.arch+"</td>",e+='<td data-column="Current version">'+t.current_version+"</td>",e+='<td data-column="New version">'+t.version+"</td>",e+="</tr>"}},Minitoring.Ping={refresh:function(){var n=document.querySelector("#section-dashboard #ping-table tbody");n.innerHTML=Minitoring.UI.getTableLoader(2),Minitoring.Api.get("api/pings/check",null,function(t){for(var e="",a=0;a<t.data.items.length;a++)e+=Minitoring.Ping.getHtml(t.data.items[a]);n.innerHTML=e})},getHtml:function(t){var e="<tr>";return e+='<td data-column="Host" class="align-left">'+t.host+"</td>",e+='<td data-column="Ping" class="align-right">'+t.ping+" ms</span></td>",e+="</tr>"}},Minitoring.Process={get:function(){Minitoring.Api.get("api/system/process",null,function(t){document.querySelector("#dashboard_process_total").innerHTML=t.data.total,document.querySelector("#dashboard_process_running").innerHTML=t.data.running})}},Minitoring.Services={refresh:function(){var i=document.querySelector("#section-dashboard #services-table tbody"),r=document.querySelector("#section-dashboard #services-table thead");r.innerHTML="",i.innerHTML=Minitoring.UI.getTableLoader(2),Minitoring.Api.get("api/services/check",null,function(t){for(var e="",a="",n=0;n<t.data.items.length;n++)e+=Minitoring.Services.getHtml(t.data.items[n]),""==a&&(a=Minitoring.Services.getHeader(t.data.items[n]));r.innerHTML=a,i.innerHTML=e})},getHeader:function(t){var e="<tr>";return e+='<th data-column="Service" class="light no-style align-left">Service</th>',e+=t.service_port?'<th data-column="Port" class="light no-style align-right padding-right-12">Port</th>':"",e+='<th data-column="Status" class="light no-style align-center">Status</th>',e+="</tr>"},getHtml:function(t){var e="",a=t.service_port_open?"online":"offline",n=t.service_port?'<td data-column="Port" class="align-right">'+t.service_port+"</td>":"";return e+='<tr data-id="'+t.service_id+'">',e+='<td data-column="Service" class="align-left">'+t.service_name+"</td>",e+=n,e+='<td data-column="Status" class="align-center"><span class="badge uppercase" data-badge="'+("online"==a?"success":"error")+'">'+a+"</span></td>",e+="</tr>"}},Minitoring.Cpu={get:function(){Minitoring.Api.get("api/system/cpu",null,function(t){document.querySelector("#cpu-model").innerHTML=t.data.model,document.querySelector("#cpu-cores").innerHTML=t.data.cores,document.querySelector("#cpu-speed").innerHTML=t.data.frequency,document.querySelector("#cpu-cache").innerHTML=t.data.cache,document.querySelector("#cpu-bogomips").innerHTML=t.data.bogomips,document.querySelector("#cpu-temperature").innerHTML=t.data.temperature})}},Minitoring.SystemInfos={get:function(){Minitoring.Api.get("api/system/infos",null,function(t){var e="";t.data.rebootRequired&&(e='<span class="badge uppercase" data-badge="warning">Reboot required</span>'),document.querySelector("#uptime-full").innerHTML=t.data.lastBoot,document.querySelector("#uptime-day").innerHTML=t.data.uptimeDays,document.querySelector("#dashboard-reboot-required").innerHTML=e,document.querySelector("#system-hostname").innerHTML=t.data.hostname,document.querySelector("#system-server-date").innerHTML=t.data.serverDate,document.querySelector("#system-last-boot").innerHTML=t.data.lastBoot,document.querySelector("#system-uptime").innerHTML=t.data.uptime,document.querySelector("#system-os").innerHTML=t.data.os,document.querySelector("#system-kernel").innerHTML=t.data.kernel})}},Minitoring.LoadAverage={gauge1_dashbord:{},gauge5_dashbord:{},gauge15_dashbord:{},init:function(){Minitoring.LoadAverage.gauge1_dashbord=Minitoring.UI.createGauge("#section-dashboard  #load-average-1-gauge"),Minitoring.LoadAverage.gauge5_dashbord=Minitoring.UI.createGauge("#section-dashboard  #load-average-5-gauge"),Minitoring.LoadAverage.gauge15_dashbord=Minitoring.UI.createGauge("#section-dashboard  #load-average-15-gauge")},get:function(){Minitoring.Api.get("api/system/load",null,function(t){Minitoring.LoadAverage.gauge1_dashbord.setValueAnimated(t.data.load1purcent,1),Minitoring.LoadAverage.gauge5_dashbord.setValueAnimated(t.data.load5purcent,1),Minitoring.LoadAverage.gauge15_dashbord.setValueAnimated(t.data.load15purcent,1),document.querySelector("#section-dashboard #load-average-1-gauge").setAttribute("data-alert-code",t.data.load1AlertCode),document.querySelector("#section-dashboard #load-average-5-gauge").setAttribute("data-alert-code",t.data.load5AlertCode),document.querySelector("#section-dashboard #load-average-15-gauge").setAttribute("data-alert-code",t.data.load15AlertCode),document.querySelector("#section-dashboard #load-average-1-gauge").setAttribute("data-bottom","1 min - "+t.data.load1),document.querySelector("#section-dashboard #load-average-5-gauge").setAttribute("data-bottom","5 min - "+t.data.load5),document.querySelector("#section-dashboard #load-average-15-gauge").setAttribute("data-bottom","15 min - "+t.data.load15)})}},Minitoring.Memory={gauge_dashboard:{},init:function(){Minitoring.Memory.gauge_dashboard=Minitoring.UI.createGauge("#section-dashboard #memory-gauge")},get:function(){Minitoring.Api.get("api/system/memory",null,function(t){Minitoring.Memory.gauge_dashboard.setValueAnimated(t.data.percentUsed,1),document.querySelector("#section-dashboard #memory-gauge").setAttribute("data-alert-code",t.data.alertCode),document.querySelector("#section-dashboard #memory-gauge").setAttribute("data-bottom",t.data.used+" used / "+t.data.total)},function(t){Minitoring.Api.notifyApiResponse(t)})}},Minitoring.Swap={gauge_dashboard:{},init:function(){Minitoring.Swap.gauge_dashboard=Minitoring.UI.createGauge("#section-dashboard #swap-gauge")},get:function(){Minitoring.Api.get("api/system/swap",null,function(t){Minitoring.Swap.gauge_dashboard.setValueAnimated(t.data.percentUsed,1),document.querySelector("#section-dashboard #swap-gauge").setAttribute("data-alert-code",t.data.alertCode),document.querySelector("#section-dashboard #swap-gauge").setAttribute("data-bottom",t.data.used+" / "+t.data.total+" used")},function(t){Minitoring.Api.notifyApiResponse(t)})}},Minitoring.SystemUsers={init:function(){function e(t){t.preventDefault(),t=t.target.closest("[data-offset]"),Minikit.isObj(t)&&Minitoring.SystemUsers.refresh(parseInt(t.getAttribute("data-offset")))}Minikit.Event.add(document.querySelector("#sysusers-bottom-paginator"),"click",function(t){e(t)}),Minikit.Event.add(document.querySelector("#sysusers-top-paginator"),"click",function(t){e(t)})},getNumberActive:function(){Minitoring.Api.get("api/sysusers/currentUsersNumber",null,function(t){document.querySelector("#current-users-number").classList.remove("color-status-ok"),document.querySelector("#current-users-number").classList.remove("color-status-warning"),document.querySelector("#current-users-number").innerHTML=t.data.currentUsersNumber,0<t.data.currentUsersNumber?document.querySelector("#current-users-number").classList.add("color-status-warning"):document.querySelector("#current-users-number").classList.add("color-status-ok")},function(t){Minitoring.Api.notifyApiResponse(t)})},syncNavBar:function(){Minikit.each(document.querySelectorAll("#section-sysusers "))},refresh:function(t){switch(Minitoring.View.getCurrentView()){case"sysusers":case"sysusers/index":case"sysusers/all":Minitoring.SystemUsers.get("all",t);break;case"sysusers/currents":Minitoring.SystemUsers.get("current",t);break;case"sysusers/lasts":Minitoring.SystemUsers.get("last",t);break;case"sysusers/groups":Minitoring.SystemUsers.get("groups",t)}},get:function(a,n){var i=document.querySelector("#sysusers-table tbody"),r=document.querySelector("#sysusers-table thead"),o=document.querySelector("#sysusers-bottom-paginator"),s="",d=i.getAttribute("data-limit")?parseInt(i.getAttribute("data-limit")):20,n=Minikit.isObj(n)?parseInt(n):0,c="";Minitoring.Api.get("api/sysusers/"+a,"limit="+d+"&offset="+n,function(t){if(o.innerHTML=Minitoring.UI.getPaginatorHtml(d,n,t.data.total),"groups"===a){for(var e=0;e<t.data.groups.length;e++)c+=Minitoring.SystemUsers.getGroupHtml(t.data.groups[e]);r.innerHTML=Minitoring.SystemUsers.getGroupsHeaderHtml(),s=t.data.groups.length+" / "+t.data.total+" item(s) displayed"}else{for(e=0;e<t.data.users.length;e++)c+="all"===a?Minitoring.SystemUsers.getUserItemHtml(t.data.users[e]):Minitoring.SystemUsers.getHtml(t.data.users[e]);r.innerHTML="all"===a?Minitoring.SystemUsers.getUsersHeaderHtml():Minitoring.SystemUsers.getUsersLastLoginHeaderHtml(),s=t.data.users.length+" / "+t.data.total+" item(s) displayed"}i.innerHTML=c,i.setAttribute("data-offset",n),o.setAttribute("data-label",s)},function(t){Minitoring.Api.notifyApiResponse(t)})},getUsersLastLoginHeaderHtml:function(){return'<tr class="table-header"><th data-column="User">User</th><th data-column="Port">Port</th><th data-column="Pid">Pid</th><th data-column="From">Connected from</th><th data-column="LastLogin">Last login</th></tr>'},getGroupsHeaderHtml:function(){return'<tr class="table-header"><th data-column="Name">Name</th><th data-column="ID">ID</th><th data-column="Users">Users</th></tr>'},getUsersHeaderHtml:function(){return'<tr class="table-header"><th data-column="Name">Name</th><th data-column="User Id" class="align-center">User Id</th><th data-column="Group Id" class="align-center">Group Id</th><th data-column="Home Directory">Home Directory</th><th data-column="Login Shell">Login Shell</th></tr>'},getUserItemHtml:function(t){var e="<tr>";return e+='<td data-column="Name">'+t.name+"</td>",e+='<td data-column="User Id" class="align-center">'+t.uid+"</td>",e+='<td data-column="Group Id" class="align-center">'+t.gid+"</td>",e+='<td data-column="Home Directory">'+t.homeDirectory+"</td>",e+='<td data-column="Login Shell"><span class="badge" data-badge="'+(t.hasLoginShell?"warning":"info")+'">'+t.loginShell+"</span></td>",e+="</tr>"},getGroupHtml:function(t){for(var e="<tr>",a="",n=0;n<t.users.length;n++)a+=0===n?"":", ",a+=t.users[n];return e+='<td data-column="Name">'+t.name+"</td>",e+='<td data-column="ID" class="align-center">'+t.gid+"</td>",e+='<td data-column="Users" class="align-left">'+a+"</td>",e+="</tr>"},getHtml:function(t){var e="<tr>";return e+='<td data-column="User">'+t.user+"</td>",e+='<td data-column="Port" class="align-center">'+t.port+"</td>",e+=Minikit.isNotNull(t.pid)?'<td data-column="Pid">'+t.pid+"</td>":"",e+=Minikit.isNotNull(t.comment)?'<td data-column="Comment">'+t.comment+"</td>":"",e+=Minikit.isNotNull(t.from)?'<td data-column="From">'+t.from+"</td>":"",e+='<td data-column="LastLogin" class="align-left">'+t.date+"</td>",e+="</tr>"}};